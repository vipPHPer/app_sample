function login(){$("#user_btn").on("click",function(){var e=$("#user").val(),n=$("#pass").val();if(window.layer_loading_index=layer.open({content:"登录中...",type:2,shadeCloss:!1}),""===e)layer.open({content:"帐号不能为空！",skin:"msg",time:2}),layer.close(layer_loading_index);else if(""===n)layer.open({content:"密码不能为空！",skin:"msg",time:2}),layer.close(layer_loding_index);else{var o={phone:e,password:n,session_key:session_key};_common.sendAjax("POST",apiLoginRegisterUrl,o,"json",function(e){if(e&&0===e.code){localStorage.setItem("sessiong_key",e.data.session_key);JSON.stringify(e.data.login);localStorage.setItem("user_info",JSON.stringify(o)),layer.close(layer_loading_index),$(".tab_box").hide(),layer.open({content:"登录成功",skin:"msg",time:2})}else alert(JSON.stringify(e.data))})}})}var apiUrl="/controller/hc_h5_wx_v01/data.json",apiPhoneUrl="/controller/hc_h5_wx_v01/get_phone.json",apiLoginRegisterUrl="/controller/hc_h5_wx_v01/get_login_register.json",_common={sendAjax:function(e,n,o,i,a){$.ajax({type:e,url:n,data:o,dataType:i,success:a})}};localStorage.getItem("session_key")?window.session_key=localStorage.getItem("session_key"):window.session_key="3a9a13274ce87b9921c78e34eeda80an",_common.sendAjax("GET",apiUrl,"","json",function(e){if(e&&0===e.code){window.solt_data=e.data;var n=e.data.history_record;""===n.length?$(".font").removeClass("hide"):$(".font").addClass("hide"),window.vm=new Vue({el:"#app",data:{history_record_list:n,data_info:solt_data}})}}),login();var $hd=$("#J_hd"),$bd=$("#J_bd"),$hdBtn=$hd.find("li"),$bdCon=$bd.find("ul");$hdBtn.on("click",function(){var e=$(this).index();return $(this).find("div").addClass("on").parent().siblings().find("div").removeClass("on"),$bdCon.hide().eq(e).show(),!1});var wait=59,time=function(e){0===wait?(e.attr("disabled",!1),e.val("重新获取"),wait=10):(e.attr("disabled",!0),e.val("重新发送("+wait+")"),wait--,setTimeout(function(){time(e)},1e3))};$("#code").on("click",function(){$("#code").attr("disabled",!0);var e=$("#moble").val();if(""===e||11!==e.length||!/^1[3|4|5|7|8]\d{9}$/.test(e))return layer.open({content:"手机号码不正确",skin:"msg",time:2}),$("#code").attr("disabled",!1),!1;_common.sendAjax("GET",apiPhoneUrl,{phone:e},"json",function(e){e&&0===e.code&&(time($("#code")),layer.open({content:"验证码已发送到您的手机，请注意查收！",skin:"msg",time:2}))})});